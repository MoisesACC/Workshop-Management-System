<!DOCTYPE html>

<html class="dark" lang="es"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>New Work Order - Factoría La Caravana</title>
<!-- Google Fonts: Manrope -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&amp;display=swap" rel="stylesheet"/>
<!-- Material Icons -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script id="tailwind-config">
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              "primary": "#d80327",
              "background-light": "#f8f5f6",
              "background-dark": "#230f12",
              "surface-dark": "#2c1518",
              "surface-darker": "#1a0b0d",
            },
            fontFamily: {
              "display": ["Manrope", "sans-serif"]
            },
            borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
            borderColor: {
                "border-subtle": "rgba(216, 3, 39, 0.2)",
            }
          },
        },
      }
    </script>
<style>
        /* Custom scrollbar for dark mode tables/panels */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #230f12; 
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #4a2025; 
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #d80327; 
        }

        /* Step wizard connecting lines */
        .step-connector::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 100%;
            width: 100%;
            height: 2px;
            background-color: #4a2025;
            transform: translateY(-50%);
            z-index: 0;
        }
        .step-connector.active::after {
            background-color: #d80327;
        }
        .step-item:last-child .step-connector::after {
            display: none;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-slate-800 dark:text-white font-display min-h-screen flex flex-col overflow-hidden">
<!-- Top Navigation Bar -->
<header class="h-16 border-b border-primary/20 bg-white dark:bg-surface-darker flex items-center justify-between px-6 shrink-0 z-20 shadow-lg shadow-black/20">
<div class="flex items-center gap-3">
<div class="w-10 h-10 bg-gradient-to-br from-primary to-red-900 rounded-lg flex items-center justify-center text-white shadow-lg shadow-primary/20">
<span class="material-icons-round text-2xl">build</span>
</div>
<div>
<h1 class="font-bold text-lg tracking-tight leading-none">Factoría La Caravana</h1>
<p class="text-xs text-slate-400 dark:text-gray-400 font-medium tracking-wide uppercase">Premium Workshop Manager</p>
</div>
</div>
<div class="flex items-center gap-4">
<div class="hidden md:flex items-center gap-2 px-3 py-1.5 bg-primary/10 rounded-full border border-primary/20">
<span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
<span class="text-xs font-medium text-primary">System Online</span>
</div>
<button class="w-9 h-9 rounded-full bg-surface-dark hover:bg-primary/20 flex items-center justify-center transition-colors">
<span class="material-icons-round text-gray-400 hover:text-white">notifications</span>
</button>
<div class="w-9 h-9 rounded-full bg-gray-700 overflow-hidden border border-gray-600">
<img alt="User Profile" class="w-full h-full object-cover" data-alt="User avatar icon" src="https://lh3.googleusercontent.com/aida-public/AB6AXuC1HMotZ8C8vaNud-eg4Xh2vJgc7MAwlYM346ylcRHaJ4RTxKhtKj16IHUitPoSeSG-JSTuJkoiax940JB7BVeSOx62D7CYjprX_MNRXPuq_FVDxcO7kPd4TsbmyuUpLHLkD8TYjsu8iQ_tOz7FBC9yBQYOmgbm0hlTdSDVYK00u2AaLOnHKSwz1x89H0SG2SpLlokSl5SvBrmorAGakrydOKIOv6YLHkxz7BhjY3J2r-qCA3F4_h86ywABBPij2ZvegD8zcnl9Dw"/>
</div>
</div>
</header>
<!-- Main Content Area -->
<main class="flex-1 flex overflow-hidden">
<!-- Left Panel: Wizard Workflow -->
<div class="flex-1 flex flex-col relative z-10">
<!-- Wizard Stepper -->
<div class="px-8 py-6 bg-surface-darker/50 backdrop-blur-sm border-b border-primary/10">
<div class="max-w-4xl mx-auto">
<div class="flex justify-between items-center relative">
<!-- Connecting Line Background -->
<div class="absolute top-1/2 left-0 w-full h-0.5 bg-gray-800 -z-10 transform -translate-y-1/2 rounded"></div>
<!-- Connecting Line Progress (75% for Step 3/4) -->
<div class="absolute top-1/2 left-0 w-3/4 h-0.5 bg-primary -z-10 transform -translate-y-1/2 rounded shadow-[0_0_10px_rgba(216,3,39,0.5)]"></div>
<!-- Step 1: Client (Completed) -->
<div class="step-item flex flex-col items-center gap-2 relative z-10 group cursor-pointer">
<div class="w-10 h-10 rounded-full bg-primary text-white flex items-center justify-center font-bold shadow-[0_0_15px_rgba(216,3,39,0.4)] transition-transform group-hover:scale-110">
<span class="material-icons-round text-lg">check</span>
</div>
<span class="text-xs font-bold text-white uppercase tracking-wider">Client</span>
</div>
<!-- Step 2: Vehicle (Completed) -->
<div class="step-item flex flex-col items-center gap-2 relative z-10 group cursor-pointer">
<div class="w-10 h-10 rounded-full bg-primary text-white flex items-center justify-center font-bold shadow-[0_0_15px_rgba(216,3,39,0.4)] transition-transform group-hover:scale-110">
<span class="material-icons-round text-lg">check</span>
</div>
<span class="text-xs font-bold text-white uppercase tracking-wider">Vehicle</span>
</div>
<!-- Step 3: Order Details (Completed) -->
<div class="step-item flex flex-col items-center gap-2 relative z-10 group cursor-pointer">
<div class="w-10 h-10 rounded-full bg-primary text-white flex items-center justify-center font-bold shadow-[0_0_15px_rgba(216,3,39,0.4)] transition-transform group-hover:scale-110">
<span class="material-icons-round text-lg">check</span>
</div>
<span class="text-xs font-bold text-white uppercase tracking-wider">Details</span>
</div>
<!-- Step 4: Services (Active) -->
<div class="step-item flex flex-col items-center gap-2 relative z-10">
<div class="w-10 h-10 rounded-full bg-surface-dark border-2 border-primary text-primary flex items-center justify-center font-bold shadow-[0_0_15px_rgba(216,3,39,0.2)]">
                                4
                            </div>
<span class="text-xs font-bold text-primary uppercase tracking-wider">Services &amp; Parts</span>
</div>
</div>
</div>
</div>
<!-- Dynamic Step Content Area -->
<div class="flex-1 overflow-y-auto custom-scrollbar p-6 md:p-10 bg-gradient-to-b from-background-dark to-surface-darker">
<div class="max-w-5xl mx-auto space-y-8 animate-fade-in-up">
<div class="flex items-end justify-between mb-2">
<div>
<h2 class="text-3xl font-extrabold text-white mb-2">Select Services &amp; Parts</h2>
<p class="text-gray-400">Search the catalog to add items to the current work order.</p>
</div>
<div class="flex gap-2">
<button class="px-4 py-2 rounded-lg bg-surface-dark border border-gray-700 hover:border-primary/50 text-gray-300 text-sm font-medium transition-colors flex items-center gap-2">
<span class="material-icons-round text-base">filter_list</span> Filter
                            </button>
</div>
</div>
<!-- Search Bar -->
<div class="relative group">
<div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
<span class="material-icons-round text-gray-500 group-focus-within:text-primary transition-colors">search</span>
</div>
<input class="w-full pl-12 pr-4 py-4 bg-surface-dark border border-gray-700 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent text-white placeholder-gray-500 transition-all shadow-lg" placeholder="Search for service (e.g., Oil Change) or part number..." type="text"/>
<div class="absolute inset-y-0 right-0 pr-4 flex items-center">
<span class="text-xs text-gray-600 bg-black/20 px-2 py-1 rounded border border-gray-700">CTRL + K</span>
</div>
</div>
<!-- Categories Tabs -->
<div class="flex gap-4 border-b border-gray-800 pb-1">
<button class="pb-3 px-2 text-primary border-b-2 border-primary font-semibold text-sm">All Items</button>
<button class="pb-3 px-2 text-gray-400 hover:text-white border-b-2 border-transparent hover:border-gray-600 font-medium text-sm transition-colors">Services</button>
<button class="pb-3 px-2 text-gray-400 hover:text-white border-b-2 border-transparent hover:border-gray-600 font-medium text-sm transition-colors">Parts Inventory</button>
<button class="pb-3 px-2 text-gray-400 hover:text-white border-b-2 border-transparent hover:border-gray-600 font-medium text-sm transition-colors">Packages</button>
</div>
<!-- Results Grid -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
<!-- Item Card 1 -->
<div class="bg-surface-dark border border-gray-800 rounded-xl p-4 hover:border-primary/50 transition-all cursor-pointer group hover:shadow-[0_4px_20px_rgba(0,0,0,0.4)] flex flex-col justify-between h-full">
<div>
<div class="flex justify-between items-start mb-2">
<div class="bg-blue-500/10 text-blue-400 text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wider border border-blue-500/20">Service</div>
<span class="text-gray-500 text-xs">ID: SVC-001</span>
</div>
<h3 class="text-white font-bold text-lg mb-1 group-hover:text-primary transition-colors">Full Synthetic Oil Change</h3>
<p class="text-gray-400 text-sm leading-relaxed mb-4">Includes up to 5 quarts of oil, new filter, and 20-point inspection.</p>
</div>
<div class="flex items-center justify-between mt-2 pt-3 border-t border-gray-800">
<span class="text-xl font-bold text-white">S/. 180.00</span>
<button class="w-8 h-8 rounded-lg bg-primary text-white flex items-center justify-center hover:bg-red-600 shadow-lg shadow-primary/20 transition-transform active:scale-95">
<span class="material-icons-round text-lg">add</span>
</button>
</div>
</div>
<!-- Item Card 2 -->
<div class="bg-surface-dark border border-gray-800 rounded-xl p-4 hover:border-primary/50 transition-all cursor-pointer group hover:shadow-[0_4px_20px_rgba(0,0,0,0.4)] flex flex-col justify-between h-full relative overflow-hidden">
<!-- Added Indicator Overlay (Simulated State) -->
<div class="absolute inset-0 bg-primary/10 border-2 border-primary rounded-xl z-10 pointer-events-none flex items-start justify-end p-2 opacity-100">
<div class="bg-primary text-white text-xs font-bold px-2 py-1 rounded shadow-sm flex items-center gap-1">
<span class="material-icons-round text-xs">check</span> ADDED
                                </div>
</div>
<div>
<div class="flex justify-between items-start mb-2">
<div class="bg-purple-500/10 text-purple-400 text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wider border border-purple-500/20">Part</div>
<span class="text-gray-500 text-xs">ID: BRK-pads-F</span>
</div>
<h3 class="text-white font-bold text-lg mb-1 group-hover:text-primary transition-colors">Ceramic Brake Pads (Front)</h3>
<p class="text-gray-400 text-sm leading-relaxed mb-4">High performance ceramic pads. Low dust, low noise.</p>
</div>
<div class="flex items-center justify-between mt-2 pt-3 border-t border-gray-800">
<span class="text-xl font-bold text-white">S/. 240.00</span>
<button class="w-8 h-8 rounded-lg bg-surface-darker border border-primary text-primary flex items-center justify-center cursor-default">
<span class="material-icons-round text-lg">remove</span>
</button>
</div>
</div>
<!-- Item Card 3 -->
<div class="bg-surface-dark border border-gray-800 rounded-xl p-4 hover:border-primary/50 transition-all cursor-pointer group hover:shadow-[0_4px_20px_rgba(0,0,0,0.4)] flex flex-col justify-between h-full">
<div>
<div class="flex justify-between items-start mb-2">
<div class="bg-blue-500/10 text-blue-400 text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wider border border-blue-500/20">Service</div>
<span class="text-gray-500 text-xs">ID: SVC-004</span>
</div>
<h3 class="text-white font-bold text-lg mb-1 group-hover:text-primary transition-colors">Brake System Flush</h3>
<p class="text-gray-400 text-sm leading-relaxed mb-4">Complete fluid exchange and system bleed.</p>
</div>
<div class="flex items-center justify-between mt-2 pt-3 border-t border-gray-800">
<span class="text-xl font-bold text-white">S/. 120.00</span>
<button class="w-8 h-8 rounded-lg bg-primary text-white flex items-center justify-center hover:bg-red-600 shadow-lg shadow-primary/20 transition-transform active:scale-95">
<span class="material-icons-round text-lg">add</span>
</button>
</div>
</div>
<!-- Item Card 4 -->
<div class="bg-surface-dark border border-gray-800 rounded-xl p-4 hover:border-primary/50 transition-all cursor-pointer group hover:shadow-[0_4px_20px_rgba(0,0,0,0.4)] flex flex-col justify-between h-full">
<div>
<div class="flex justify-between items-start mb-2">
<div class="bg-purple-500/10 text-purple-400 text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wider border border-purple-500/20">Part</div>
<span class="text-gray-500 text-xs">ID: FLT-air-09</span>
</div>
<h3 class="text-white font-bold text-lg mb-1 group-hover:text-primary transition-colors">Engine Air Filter</h3>
<p class="text-gray-400 text-sm leading-relaxed mb-4">OEM replacement air filter for improved airflow.</p>
</div>
<div class="flex items-center justify-between mt-2 pt-3 border-t border-gray-800">
<span class="text-xl font-bold text-white">S/. 45.00</span>
<button class="w-8 h-8 rounded-lg bg-primary text-white flex items-center justify-center hover:bg-red-600 shadow-lg shadow-primary/20 transition-transform active:scale-95">
<span class="material-icons-round text-lg">add</span>
</button>
</div>
</div>
<!-- Item Card 5 -->
<div class="bg-surface-dark border border-gray-800 rounded-xl p-4 hover:border-primary/50 transition-all cursor-pointer group hover:shadow-[0_4px_20px_rgba(0,0,0,0.4)] flex flex-col justify-between h-full">
<div>
<div class="flex justify-between items-start mb-2">
<div class="bg-orange-500/10 text-orange-400 text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wider border border-orange-500/20">Labor</div>
<span class="text-gray-500 text-xs">ID: LBR-Gen</span>
</div>
<h3 class="text-white font-bold text-lg mb-1 group-hover:text-primary transition-colors">General Labor (Hourly)</h3>
<p class="text-gray-400 text-sm leading-relaxed mb-4">Additional labor time for custom diagnostics.</p>
</div>
<div class="flex items-center justify-between mt-2 pt-3 border-t border-gray-800">
<span class="text-xl font-bold text-white">S/. 80.00 <span class="text-xs font-normal text-gray-500">/hr</span></span>
<button class="w-8 h-8 rounded-lg bg-primary text-white flex items-center justify-center hover:bg-red-600 shadow-lg shadow-primary/20 transition-transform active:scale-95">
<span class="material-icons-round text-lg">add</span>
</button>
</div>
</div>
</div>
</div>
</div>
<!-- Footer Action Bar -->
<div class="h-20 bg-surface-dark border-t border-gray-800 px-8 flex items-center justify-between shrink-0">
<button class="px-6 py-3 rounded-lg border border-gray-600 hover:bg-gray-800 text-gray-300 font-bold transition-all flex items-center gap-2">
<span class="material-icons-round text-sm">arrow_back</span> Back
                </button>
<div class="flex items-center gap-4">
<span class="text-gray-400 text-sm hidden md:inline">Step 4 of 4</span>
<button class="px-8 py-3 rounded-lg bg-primary hover:bg-red-600 text-white font-bold shadow-lg shadow-primary/30 hover:shadow-primary/50 transition-all transform hover:-translate-y-0.5 flex items-center gap-2">
                        Create Work Order <span class="material-icons-round text-sm">check_circle</span>
</button>
</div>
</div>
</div>
<!-- Right Panel: The Cart / Summary -->
<aside class="w-96 bg-surface-dark border-l border-gray-800 shadow-2xl flex flex-col shrink-0 relative z-20">
<!-- Summary Header -->
<div class="p-6 border-b border-gray-800 bg-surface-darker/50">
<h3 class="text-lg font-bold text-white flex items-center gap-2">
<span class="material-icons-round text-primary">receipt_long</span> Order Summary
                </h3>
<p class="text-xs text-gray-500 mt-1">Order #WO-2023-8921 • <span class="text-primary font-medium">Draft</span></p>
</div>
<!-- Selected Entities -->
<div class="p-4 space-y-3 bg-surface-darker/30">
<!-- Client Card -->
<div class="bg-surface-dark border border-gray-700 rounded-lg p-3 flex items-start gap-3">
<div class="w-10 h-10 rounded bg-gray-700 flex items-center justify-center shrink-0">
<span class="material-icons-round text-gray-400">person</span>
</div>
<div>
<p class="text-xs text-primary font-bold uppercase mb-0.5">Client</p>
<p class="text-sm font-bold text-white">Roberto Sanchez</p>
<p class="text-xs text-gray-400">DNI: 45892100</p>
</div>
<button class="ml-auto text-gray-500 hover:text-primary transition-colors">
<span class="material-icons-round text-sm">edit</span>
</button>
</div>
<!-- Vehicle Card -->
<div class="bg-surface-dark border border-gray-700 rounded-lg p-3 flex items-start gap-3">
<div class="w-10 h-10 rounded bg-gray-700 flex items-center justify-center shrink-0 overflow-hidden">
<img alt="Car Thumbnail" class="w-full h-full object-cover opacity-80" data-alt="Close up of a shiny dark sedan car" src="https://lh3.googleusercontent.com/aida-public/AB6AXuCHbOrg95QyGosyXAHg-xs56lph33ZISDoDmpiPnIJYm0m_Alf75XphSSZDZWdK7L5t7kKtSZdd5K7m8xZ11tvn07d43pt_oD9QbJb4-Ot6qs2DhSdIF2IDcY2-Rp3SC66b26zTJch42ijWKr2apRxaLtZyi-TDG11Axo0Gw4gB1ZWmXSc10Ql_QDmacqe8ctwu2BhQpXVeysOTIRmcwMC5CxUIRQu3bIxRDYj-ofDVpuAJMvIrUVhlxELE8SrMBUhrUdGilNAylQ"/>
</div>
<div>
<p class="text-xs text-primary font-bold uppercase mb-0.5">Vehicle</p>
<p class="text-sm font-bold text-white">Toyota Corolla 2018</p>
<p class="text-xs text-gray-400 bg-black/30 px-1.5 py-0.5 rounded inline-block mt-1 border border-gray-700">ABC-123</p>
</div>
<button class="ml-auto text-gray-500 hover:text-primary transition-colors">
<span class="material-icons-round text-sm">edit</span>
</button>
</div>
</div>
<!-- Details Snip -->
<div class="px-6 py-2 border-b border-gray-800 bg-surface-darker/30">
<div class="flex justify-between items-center text-xs text-gray-400">
<span><strong class="text-gray-300">Priority:</strong> High</span>
<span><strong class="text-gray-300">Est. Delivery:</strong> Oct 24</span>
</div>
</div>
<!-- Cart Items List -->
<div class="flex-1 overflow-y-auto custom-scrollbar p-4 space-y-1">
<div class="flex justify-between items-center py-2 border-b border-gray-800/50 group">
<div class="flex items-start gap-2">
<button class="text-gray-600 hover:text-primary transition-colors mt-0.5 opacity-0 group-hover:opacity-100">
<span class="material-icons-round text-sm">close</span>
</button>
<div>
<p class="text-sm text-gray-200 font-medium">Brake Pads (Front)</p>
<p class="text-xs text-gray-500">Part • Qty: 1</p>
</div>
</div>
<span class="text-sm font-bold text-white">S/. 240.00</span>
</div>
<div class="flex justify-between items-center py-2 border-b border-gray-800/50 group">
<div class="flex items-start gap-2">
<button class="text-gray-600 hover:text-primary transition-colors mt-0.5 opacity-0 group-hover:opacity-100">
<span class="material-icons-round text-sm">close</span>
</button>
<div>
<p class="text-sm text-gray-200 font-medium">Diagnostic Fee</p>
<p class="text-xs text-gray-500">Service • Standard</p>
</div>
</div>
<span class="text-sm font-bold text-white">S/. 50.00</span>
</div>
</div>
<!-- Totals Footer -->
<div class="p-6 bg-surface-darker border-t border-gray-800 space-y-3">
<div class="flex justify-between text-sm text-gray-400">
<span>Subtotal</span>
<span>S/. 290.00</span>
</div>
<div class="flex justify-between text-sm text-gray-400">
<span>Tax (18%)</span>
<span>S/. 52.20</span>
</div>
<div class="h-px bg-gray-800 my-2"></div>
<div class="flex justify-between items-end">
<div>
<span class="block text-xs text-gray-500 uppercase font-bold tracking-wider">Total Estimated</span>
</div>
<span class="text-3xl font-extrabold text-primary leading-none">S/. 342.20</span>
</div>
</div>
</aside>
</main>
<!-- Modal (Optional, hidden by default but conceptualized for 'Add New') -->
<!-- This is just illustrative of where modals would live -->
<div class="hidden fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4">
<div class="bg-surface-dark border border-gray-700 rounded-2xl w-full max-w-lg p-6 shadow-2xl">
<h3 class="text-xl font-bold text-white mb-4">Add Custom Item</h3>
<!-- Form content would go here -->
</div>
</div>
</body></html>